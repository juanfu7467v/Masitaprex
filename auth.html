<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Acceso a Masitaprex</title>
  <link rel="stylesheet" href="style.css"> 
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div id="login-register-container" class="container">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiiQJitHw_3wF_08BjBXLFIZAD0QsIoUYhHWCVXLBAIBopJBGRu-t0a7ffnpm6mY8xo-xIWBDZy7onTdW9XH-V08NFckM2YZUbwTi6J3QtWw3Y5zUBMX6-23atheZZHrbURyEaO5UmwjyL1pE0-90bi68UCagd6WtLlslYraV-0cGpkJxvzjFpMYIfnTZag/s400/1000125345.png" alt="Avatar de Usuario" class="avatar">

    <div id="login-form" class="login-form">
        <button onclick="loginWithGoogle()" style="background-color: white; color: var(--text-dark); border: 2px solid var(--border-color); margin-bottom: 25px; box-shadow: none; display: flex; align-items: center; justify-content: center; text-transform: none;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/4a/Logo_2013_Google.png" alt="Google logo" style="width: 25px; height: 25px; vertical-align: middle; margin-right: 15px;">
            Continuar con Google
        </button>
        <div class="separator-text">
            Ingresa con tu correo electrónico
            <div class="line-below-text"></div> 
        </div>

        <input type="email" id="login-email" placeholder="Correo electrónico" autocomplete="email" class="input-field">
        
        <div class="password-container">
            <input type="password" id="login-password" placeholder="Contraseña" autocomplete="current-password" class="input-field">
            <span class="material-icons toggle-password" id="toggle-login-password" onclick="togglePasswordVisibility('login-password', 'toggle-login-password')">visibility</span>
        </div>

        <button class="primary-btn" onclick="loginWithEmail()">
            Iniciar sesión
        </button>
        
        <div class="text-link">
            ¿Olvidaste tu contraseña? <a href="#" onclick="showRecoverPasswordForm(); return false;">Recuperar aquí</a>
            <div class="line-below-text"></div> 
        </div>
        <button id="create-account-button" class="register-btn" onclick="showRegisterForm()">
            Crear Cuenta
        </button>
    </div>

    <div id="register-form" class="register-form">
        <p>Completa tu registro en consulta pe</p> 

        <div class="tooltip-container">
            <input type="text" id="register-name" placeholder="Tu nombre" class="input-field">
            <span class="material-icons tooltip-icon">info_outline</span>
            <span class="tooltip-text">Ingresa tu nombre completo o como deseas ser llamado en la aplicación.</span>
        </div>

        <div class="tooltip-container">
            <input type="email" id="register-email" placeholder="Correo electrónico" autocomplete="email" class="input-field">
            <span class="material-icons tooltip-icon">info_outline</span>
            <span class="tooltip-text">Este será tu usuario para iniciar sesión y donde recibirás notificaciones.</span>
        </div>
        
        <div class="password-container">
            <input type="password" id="register-password" placeholder="Contraseña (mín. 6 caracteres)" autocomplete="new-password" class="input-field">
            <span class="material-icons toggle-password" id="toggle-register-password" onclick="togglePasswordVisibility('register-password', 'toggle-register-password')">visibility</span>
        </div>
        
        <div class="password-container">
            <input type="password" id="register-confirm-password" placeholder="Confirmar Contraseña" autocomplete="new-password" class="input-field">
            <span class="material-icons toggle-password" id="toggle-register-confirm-password" onclick="togglePasswordVisibility('register-confirm-password', 'toggle-register-confirm-password')">visibility</span>
        </div>

        <button class="primary-btn" onclick="registerNewAccount()">
            Registrarse
        </button>
        
        <div class="register-policy-links">
            Al registrarte, aceptas nuestros 
            <a href="go:terminos">Términos y condiciones</a> <span class="separator-dot">|</span>
            <a href="go:politica">Política de privacidad</a> <span class="separator-dot">|</span>
            <a href="go:legal">Aviso legal</a>
        </div>

        <div class="text-link">
            ¿Ya tienes una cuenta? <a href="#" onclick="showLoginForm(); return false;">Inicia sesión aquí</a>
            <div class="line-below-text"></div> 
        </div>
    </div>

    <div id="recover-password-form" class="recover-password-form">
        <h3>Recuperar Contraseña</h3>
        <p>Ingresa tu correo electrónico para enviar un enlace de recuperación.</p>
        
        <div class="tooltip-container">
            <input type="email" id="recover-email" placeholder="Correo electrónico" class="input-field">
            <span class="material-icons tooltip-icon">info_outline</span>
            <span class="tooltip-text">Ingresa el correo asociado a tu cuenta para recibir las instrucciones de recuperación.</span>
        </div>

        <button class="primary-btn" onclick="recoverPassword()">
            Enviar enlace de recuperación
        </button>
        <div class="text-link">
            <a href="#" onclick="showLoginForm(); return false;">Volver al Inicio de Sesión</a>
        </div>
    </div>
    
    <div id="loading-indicator">
      <div class="pulsing-circle"></div>
      <div class="pulsing-circle delay-1"></div>
      <div class="pulsing-circle delay-2"></div>
    </div>
    
    <div id="form-message-tooltip" class="form-message-tooltip"></div>

  </div>
  
  <script type="module" src="auth.js"></script>

</body>
</html>
